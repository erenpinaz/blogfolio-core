if(!window.jQuery)throw"Site scripts requires jQuery.";$(function(){var $nav=$(".app-nav"),$navToggle=$("#nav-toggle");0<$navToggle.length&&$navToggle.on("click",function(e){e.preventDefault(),$nav.toggleClass("toggled"),$navToggle.find("i").toggleClass("fa fa-bars").toggleClass("fa fa-times-circle")});var $remodal=$("a[data-remodal]");0<$remodal.length&&$remodal.each(function(){$(this).on("click",function(e){e.preventDefault(),$.ajax({url:$(this).data("url"),success:function(data){$(".remodal-content").html(data),$("[data-remodal-id=modal]").remodal().open()}})})});var $setupRemodal=$("div#setupModal").remodal({hashTracking:!1,closeOnOutsideClick:!1,closeOnEscape:!1});$setupRemodal&&$setupRemodal.open();var $lazyItems=$(".lazy");0<$lazyItems.length&&$lazyItems.lazyload({effect:"fadeIn"});var $grid=$("#grid");0<$grid.length&&$grid.imagesLoaded(function(){$grid.masonry({itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0})});var $contactForm=$("section.contact").find("form");if(0<$contactForm.length){var $submit=$contactForm.find('button[type="submit"]');$contactForm.on("submit",function(e){e.preventDefault(),$contactForm.valid()&&$.ajax({cache:!1,url:this.action,type:"POST",data:$contactForm.serialize(),beforeSend:function(){$submit.prepend('<img class="loading" src="/images/loading.gif"/>'),$submit.attr("disabled",!0)},success:function(result){$contactForm.replaceWith('<p class="contact-result">'+result.message+"</p>")}})})}});